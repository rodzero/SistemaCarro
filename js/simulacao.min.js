function Simulacao(o,a,i,r,e,t,c){function n(o,a){var i=a*AppCarro.getCarro(o.carroEscolhido).valorKm;o.valor=parseFloat(i).toFixed(2),AppCarro.persisteSimulacoes()}var l={};return idSimulacao=AppCarro.getIdSimulacao(),l.id=idSimulacao,l.carroEscolhido=o,l.nomeCliente=a,l.opcao=i,l.dateInicio=r,l.dateFim=e,l.origem=t,l.destino=c,l.toString=function(){return l.nomeCliente+" "+l.opcao},l.valor=function(o){if("km"==o.opcao)return Geocoder.getDistance(o,o.origem,o.destino,n),"Calculando...";var a=new Date(o.dateInicio.split("-")[2],o.dateInicio.split("-")[1],o.dateInicio.split("-")[0],0,0,0),i=new Date(o.dateFim.split("-")[2],o.dateFim.split("-")[1],o.dateFim.split("-")[0],0,0,0),r=Math.abs(i.getTime()-a.getTime()),e=Math.ceil(r/864e5);return AppCarro.getCarro(o.carroEscolhido).valorDia*e}(l),l.carro=function(o){var a=AppCarro.getCarro(o);return a.fabricante+" - "+a.placa}(l.carroEscolhido),l}
